<!doctype html>
<html>
<head>
	<meta charset="UTF-8" lang="en">
	<meta name="description" content="Connects to the VPN, but doesn't work - Tunnelblick | Free open source OpenVPN VPN client server software GUI for Mac OS X.. Includes OpenVPN, OpenSSL, easy-rsa, and drivers.">
	<meta name="referrer" content="never">
	<title>Connects to the VPN, but doesn't work - Tunnelblick | Free open source OpenVPN VPN client server software GUI for Mac OS X.</title>
	<link rel="stylesheet" type="text/css"  href="/common/style.v6.css">
	<link rel="icon"       type="image/png" href="/common/favicon.v1.png">
</head>

<body>
<center><table><tr><td><font color="red">THIS IS A COPY OF A PAGE AT <a href="https://tunnelblick.net">THE OFFICIAL TUNNELBLICK WEBSITE</a> AS OF 2019-04-12 00:01:05 UTC</font></td></tr></table></center>

<div class="heading">
	<table>
		<tr>
			<td><a href="/"><img src="/common/tb-icon-64x64.v1.png" alt="tunnelblick icon" width="64" height="64"></a></td>
			<td class="heading1">Tunnelblick</td>
			<td class="heading2">free software for OpenVPN on macOS</td>
			<td class="heading3">
                <a href="/cLocalizeTranslate.html">We need translators for several languages&hellip;</a>
            </td>
		</tr>
	</table>
</div>


<div class="topnav">
<table class="topnav"><tbody><tr>
	<td class="topnav-normal"   ><a href="/index.html"      class="topnav">Home</a></td>
	<td class="topnav-normal"   ><a href="/downloads.html"  class="topnav">Downloads</a></td>
	<td class="topnav-normal"   ><a href="/support.html"    class="topnav">Support</a></td>
	<td class="topnav-highlight"><a href="/documents.html"  class="topnav">Documents</a></td>
	<td class="topnav-normal"   ><a href="/issues.html"     class="topnav">Issues</a></td>
	<td class="topnav-normal"   ><a href="/source.html"     class="topnav">Source</a></td>
	<td class="topnav-normal"   ><a href="/contribute.html" class="topnav">Contribute</a></td>
	<td class="topnav-normal"   ><a href="/reachus.html"    class="topnav">Contact</a></td>
	<td class="topnav-padding"  ></td>
</tbody></table>
</div>



<div class="content">
<div class="content-cConnectedBut">
<table class="documents">
  <tr>
    <td class="documents-left">



<p><strong>Highlighted Articles</strong><br>
&nbsp;&nbsp;<a href="/cNews.html">News</a><br>
&nbsp;&nbsp;<a href="/cInstall.html">Installing Tunnelblick</a><br>
&nbsp;&nbsp;<a href="/cUninstall.html">Uninstalling Tunnelblick</a><br>
&nbsp;&nbsp;<a href="/cConfigT.html">Setting up Configurations</a><br>
&nbsp;&nbsp;<a href="/czUsing.html">Using Tunnelblick</a><br>
&nbsp;&nbsp;<a href="/cGettingVPNService.html">Getting VPN Service</a><br>
&nbsp;&nbsp;<a href="/cCommonProblems.html">Common Problems</a><br>
&nbsp;&nbsp;<a href="/cConfigO.html">Configuring OpenVPN</a><br>
&nbsp;&nbsp;<a href="/cRlsNotes.html">Release Notes</a><br>
&nbsp;&nbsp;<a href="/cThanks.html">Thanks</a><br>
&nbsp;&nbsp;<a href="/cFAQ.html">FAQ</a></p>

<p><strong><a href="https://groups.google.com/forum/#&#33;forum/tunnelblick-discuss">Discussion Group</a></strong><br>
&nbsp;&nbsp;<a href="/cBeforeYouPost.html">Read Before You Post</a></p>



    </td>
    <td class="documents-right">
    


<h1 id="connects-to-the-vpn-but-doesnt-work">Connects to the VPN, but doesn't work</h1>
<p class=toc>On This Page<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#if-openvpn-is-connected-to-the-server-but-you-cant-access-the-internet">If OpenVPN is connected to the server but you can't access the Internet</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#how-to-check-your-dns-settings">How to check your DNS settings</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#how-to-use-a-different-dns-server">How to use a different DNS server</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#use-a-different-dns-server-whether-or-not-a-vpn-is-active">Use a different DNS server whether or not a VPN is active</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#use-a-different-dns-server-only-when-the-vpn-is-active">Use a different DNS server only when the VPN is active</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#if-openvpn-is-connected-to-the-server-but-your-ip-address-does-not-change">If OpenVPN is connected to the server but your IP address does not change</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#how-to-test-your-ip-address">How to test your IP address</a><br>
</p> 
<p><span class="red"><strong>Troubleshooting this problem could be very simple: try connecting the VPN with and without &quot;Set nameserver&quot; selected. If one way or the other solves your problem, you're done!</strong></span></p>
<p>OpenVPN is such a powerful tool with so many options, and computer configurations are so varied, that it is impossible to have an exhaustive troubleshooting guide. This guide is meant for the most common setups, so if it doesn't apply to your situation, or doesn't help, see the <a href="support.html">Support page</a> for guidance.</p>
<p>This page assumes that you are successfully connected to a VPN server. If not, or if you aren't sure, look at <a href="cCommonProblems.html">Common Problems</a>.</p>
<h2 id="if-openvpn-is-connected-to-the-server-but-you-cant-access-the-internet">If OpenVPN is connected to the server but you can't access the Internet</h2>
<p>After connecting, if you can't reach the Internet, it's likely that your setup has</p>
<ul>
<li>A DNS problem and/or</li>
<li>A routing problem and/or</li>
<li>A problem with the VPN server</li>
</ul>
<p>Tunnelblick includes the ability to diagnose some DNS problems and will warn you about some common configuration problems.</p>
<p><strong>Check for a DNS problem:</strong><br />
If OpenVPN connected to the server properly, but you are having trouble connecting to websites, the first thing to find out is if there is a DNS problem. To check that, try to access a website by using its IP address instead of its name. If the IP address works, but the name doesn't, there is a DNS problem. (Consider the IP address to be &quot;working&quot; if any of the webpage loads.)</p>
<p><strong>If you don't have a DNS problem</strong> then there is something else going on. See the <a href="support.html">Support page</a> for guidance.</p>
<p><strong>If you have a DNS problem:</strong></p>
<ol>
<li><p>See if your network settings manually specify a DNS server. If they do, that server will be used even when the VPN is active unless you put a check in &quot;Allow changes to manually-set network settings&quot; on Tunnelblick's &quot;Advanced&quot; settings page. If the manual DNS server is your ISP's DNS server, it is probably set up to ignore queries that come from outside the network. When you are connected to the VPN, your queries come from the VPN server, which is probably outside the ISP's network, so the ISP's DNS server will ignore your request. You should set up your computer to use a free public DNS server (see <a href="#how-to-use-a-different-dns-server">How to use a different DNS server</a>, below) while the VPN is active.</p></li>
<li>If your DNS settings are specified by DHCP, check your DNS settings both before you connect to the VPN and while you are connected.
<ul>
<li>If the DNS settings are the same, try setting up your computer to use a free public DNS server (see <a href="#how-to-use-a-different-dns-server">How to use a different DNS server</a>, below).</li>
<li>If the DNS settings are different, the VPN is using a DNS server specified by the VPN setup. Contact the person who maintains your VPN server to find out why that DNS server is not functioning properly.</li>
</ul></li>
</ol>
<h3 id="how-to-check-your-dns-settings">How to check your DNS settings</h3>
<ol>
<li>Launch System Preferences,</li>
<li>Click &quot;Network&quot;<br />
Your DNS server list is one of the entries on the right. It is a list of IP addresses, separated by commas. macOS will use the first one unless it fails to respond to requests, in which case it will try the second, then the third, etc.</li>
</ol>
<p>Note: If the DNS server list is dimmed (grayed out), it was set via DHCP, not manually.</p>
<h3 id="how-to-use-a-different-dns-server">How to use a different DNS server</h3>
<p>There are two ways to set up a different DNS server:</p>
<h4 id="use-a-different-dns-server-whether-or-not-a-vpn-is-active">Use a different DNS server whether or not a VPN is active</h4>
<p>You can set your computer up to use a different DNS server all the time. <a href="https://developers.google.com/speed/public-dns">Google Public DNS</a> is free, and <a href="https://www.opendns.com/">OpenDNS</a> has a free version. There are lots of others. To use such a DNS server all the time (whether or not a VPN is connected):</p>
<ol>
<li>Launch System Preferences,</li>
<li>Click &quot;Network&quot;</li>
<li>Copy/paste the following &quot;<code>8.8.8.8,8.8.4.4,208.67.222.222,208.67.220.220</code>&quot; (without the quotation marks) into the box to the right of &quot;DNS Server&quot;</li>
</ol>
<p>This will set up your computer to always (whether or not you are connected to the VPN) use two Google DNS servers and two OpenDNS servers (in that order). Substitute the addresses for the DNS provider of your choice if you want.</p>
<h4 id="use-a-different-dns-server-only-when-the-vpn-is-active">Use a different DNS server only when the VPN is active</h4>
<p><em>Note: This will only work if you specify &quot;Set nameserver&quot; in Tunnelblick's settings for the configuration.</em></p>
<p>Add a line to your OpenVPN configuration file for each DNS server: &quot;<code>dhcp-option DNS </code><em>address</em>&quot; (substitute the DNS server's IP address for <em>address</em>). (To add two servers, add two lines to the OpenVPN configuration file, one for each server.)</p>
<h2 id="if-openvpn-is-connected-to-the-server-but-your-ip-address-does-not-change">If OpenVPN is connected to the server but your IP address does not change</h2>
<p>If you have a check in the &quot;Check if the apparent public IP address changed after connecting&quot; checkbox on the &quot;Settings&quot; tab of Tunnelblick's &quot;VPN Details&quot; window, and your IP address doesn't change after connecting, a window will pop up to notify you.</p>
<p>If OpenVPN connects to the server properly but your IP address does not change, your OpenVPN setup needs to include the &quot;--redirect-gateway&quot; option. By default, OpenVPN only sends some traffic through the VPN — traffic that is specifically destined for the VPN network itself. The &quot;--redirect-gateway&quot; option tells OpenVPN to send <em>all</em> IPv4 traffic through the VPN.</p>
<p>There are three ways the option can be added; you need only use one:</p>
<ul>
<li>Put a check in the &quot;Route all Ipv4 traffic through the VPN&quot; checkbox on the &quot;Settings&quot; tab of Tunnelblick's &quot;VPN Details&quot; window.</li>
<li>Add this: <code>redirect-gateway def1</code> as a separate line in your client's OpenVPN configuration file.</li>
<li>Add this: <code>push &quot;redirect-gateway def1&quot;</code> as a separate line in your server's OpenVPN configuration file.</li>
</ul>
<p>(The &quot;--&quot; at the start of an OpenVPN option is omitted when the option appears in a configuration file.)</p>
<h3 id="how-to-test-your-ip-address">How to test your IP address</h3>
<p>You can find out what IP address your computer is using by going to <a href="https://tunnelblick.net/ipinfo">https://tunnelblick.net/ipinfo</a>.</p>
<p>The first number shown is your apparent public IP address:</p>
<p><img src="https://tunnelblick.net/images/cConnectedBut-ipinfo-2019-03-18.png" alt="screenshot showing a circled, redacted IP address in a browser window showing the page https://tunnelblick.net/ipinfo"></p>
<p><em>Note: tunnelblick.net does not use Javascript, other client-side scripting, plugins, trackers, beacons, or web bugs, and it does not carry advertising. It does not store cookies or any other data on your computer (except as noted in the <a href="https://tunnelblick.net/cPrivacy.html#tunnelblick.net-privacy">tunnelblick.net privacy policy</a>).</em></p>
<p>If you have checked &quot;Check if the apparent public IP address changed after connecting&quot;, the IP address will be displayed in the Tunnelblick menu while you are connected:</p>
<p><img src="https://tunnelblick.net/images/cConnectedBut-ip-on-menu-2018-03-18.png" alt="screenshot showing the top line of the Tunnelblick menu with the text 'disconnect all (0SUT) - apparent public IP address' followed by a redacted IP address"></p>



   </td>
  </tr>
</table>
</div>
</div>



<div class="bottom-translation">
  <span title="view in German or another language using Google Translate">               <a lang="de"      class="bottom-translation" href="https://translate.google.com/translate?hl=de&amp;sl=en&amp;tl=de&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;Deutsch&nbsp;&nbsp;         </a></span>
  <span title="view in French or another language using Google Translate">               <a lang="fr"      class="bottom-translation" href="https://translate.google.com/translate?hl=fr&amp;sl=en&amp;tl=fr&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;Français&nbsp;&nbsp;        </a></span>
  <span title="view in Chinese (simplified) or another language using Google Translate"> <a lang="zh-Hans" class="bottom-translation" href="https://translate.google.com/translate?hl=zh-CN&amp;sl=en&amp;tl=zh-CN&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;中文(简体)&nbsp;&nbsp; </a></span>
  <span title="view in Russian or another language using Google Translate">              <a lang="ru"      class="bottom-translation" href="https://translate.google.com/translate?hl=ru&amp;sl=en&amp;tl=ru&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;Русский&nbsp;&nbsp;         </a></span>
  <span title="view in Spanish or another language using Google Translate">              <a lang="es"      class="bottom-translation" href="https://translate.google.com/translate?hl=es&amp;sl=en&amp;tl=es&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;Español&nbsp;&nbsp;         </a></span>
  <span title="view in Japanese or another language using Google Translate">             <a lang="ja"      class="bottom-translation" href="https://translate.google.com/translate?hl=ja&amp;sl=en&amp;tl=ja&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;日本語&nbsp;&nbsp;           </a></span>
  <span title="view in Italian or another language using Google Translate">              <a                class="bottom-translation" href="https://translate.google.com/translate?hl=it&amp;sl=en&amp;tl=it&amp;u=https%3A%2F%2Fwww.tunnelblick.net%2FcConnectedBut.html&amp;sandbox=1">&nbsp;&nbsp;&hellip;&nbsp;&nbsp;        </a></span>
</div>
<div class="bottom-copyright">
  Copyright &copy; 2015-2019 by The Tunnelblick Project.&nbsp;&nbsp;<a href="/cGDPR.html">GDPR Info</a>&nbsp;&nbsp;
</div>
</body>
</html>
