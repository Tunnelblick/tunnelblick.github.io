<!DOCTYPE html>
<html lang="en">
<head>
<meta name="generator" content="HTML Tidy for HTML5 for Apple macOS version 5.8.0">
<meta charset="UTF-8" lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Setting up Tunnelblick - Tunnelblick | Free open source OpenVPN VPN client server software GUI for Mac OS X.. Includes OpenVPN, OpenSSL, easy-rsa, and drivers.">
<meta name="referrer" content="never">
<title>Setting up Tunnelblick - Tunnelblick | Free open source OpenVPN VPN client server software GUI for Mac OS X.</title>
<link rel="stylesheet" type="text/css" href="/common/style.v8.css">
<link rel="icon" type="image/png" href="/common/favicon.v1.png">
</head>
<body>
<center><table><tr><td><font color="red">THIS IS A COPY OF A PAGE AT <a href="https://tunnelblick.net">THE OFFICIAL TUNNELBLICK WEBSITE</a> AS OF 2024-04-04 16:42:44 UTC</font></td></tr></table></center>
<header>
<div class="heading">
<table>
<tr>
<td><a href="/"><img src="/common/tb-icon-64x64.v1.png" alt="tunnelblick icon" width="64" height="64"></a></td>
<td class="heading1">Tunnelblick</td>
<td class="heading2">free software for OpenVPN on macOS</td>
<td class="heading3"><a href="/cLocalizeTranslate.html">We need translators for several languages…</a></td>
</tr>
</table>
</div>
</header>
<nav>
<div class="topnav">
<table class="topnav">
<tbody>
<tr>
<td class="topnav-normal"><a href="/index.html" class="topnav">Home</a></td>
<td class="topnav-normal"><a href="/downloads.html" class="topnav">Downloads</a></td>
<td class="topnav-normal"><a href="/support.html" class="topnav">Support</a></td>
<td class="topnav-highlight"><a href="/documents.html" class="topnav">Documents</a></td>
<td class="topnav-normal"><a href="/issues.html" class="topnav">Issues</a></td>
<td class="topnav-normal"><a href="/source.html" class="topnav">Source</a></td>
<td class="topnav-normal"><a href="/contribute.html" class="topnav">Contribute</a></td>
<td class="topnav-normal"><a href="/reachus.html" class="topnav">Contact</a></td>
<td class="topnav-padding"></td>
</tr>
</tbody>
</table>
</div>
</nav>
<main>
<div class="content">
<div class="content-cConfigT">
<table class="documents">
<tr>
<td class="documents-left">
<p><strong>Highlighted Articles</strong><br>
&nbsp;&nbsp;<a href="/cNews.html">News</a><br>
&nbsp;&nbsp;<a href="/cInstall.html">Installing Tunnelblick</a><br>
&nbsp;&nbsp;<a href="/cUninstall.html">Uninstalling Tunnelblick</a><br>
&nbsp;&nbsp;<a href="/cConfigT.html">Setting up Configurations</a><br>
&nbsp;&nbsp;<a href="/czUsing.html">Using Tunnelblick</a><br>
&nbsp;&nbsp;<a href="/cGettingVPNService.html">Getting VPN Service</a><br>
&nbsp;&nbsp;<a href="/cCommonProblems.html">Common Problems</a><br>
&nbsp;&nbsp;<a href="/cConfigO.html">Configuring OpenVPN</a><br>
&nbsp;&nbsp;<a href="/cRlsNotes.html">Release Notes</a><br>
&nbsp;&nbsp;<a href="/cThanks.html">Thanks</a><br>
&nbsp;&nbsp;<a href="/cFAQ.html">FAQ</a></p>
<p><strong><a href="https://groups.google.com/forum/#!forum/tunnelblick-discuss">Discussion Group</a></strong><br>
&nbsp;&nbsp;<a href="/cBeforeYouPost.html">Read Before You Post</a></p>
</td>
<td class="documents-right">
<h1 id="setting-up-tunnelblick">Setting up Tunnelblick</h1>
<p class="toc">On This Page<br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#setting-up-and-installing-configurations">Setting Up and Installing Configurations</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#converting-openvpn-configurations-to-tunnelblick-vpn-configurations">Converting OpenVPN Configurations to Tunnelblick VPN Configurations</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#creating-and-installing-a-tunnelblick-vpn-configuration">Creating and Installing a Tunnelblick VPN Configuration</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#modifying-a-tunnelblick-vpn-configuration">Modifying a Tunnelblick VPN Configuration</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#files-contained-in-a-tunnelblick-vpn-configuration">Files Contained in a Tunnelblick VPN Configuration</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#the-set-nameserver-check-box-and-dns--wins-settings">The "Set Nameserver" Check Box and DNS & WINS Settings</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#the-openvpn---user-and---group-options-and-openvpn-down-rootso">The OpenVPN --user and --group options and openvpn-down-root.so</a><br></p>
<hr>
<p><span class="red">Stop</span> if you have a <a href="cCusDeployed.html">"Deployed" version</a> of Tunnelblick. It comes already set up — you do no need to do anything more. Just <a href="czUsing.html">start using it</a> and enjoy!</p>
<p><span class="red">Stop</span> if you have purchased VPN service from a VPN service provider. They should provide you with configuration files and instructions on how to use them with Tunnelblick.</p>
<p><span class="red">Stop</span> if you have VPN service from a corporate or other network provided by your employer. Your network manager or IT department should provide you with configuration files and instructions on how to use them with Tunnelblick.</p>
<p><span class="red">Stop</span> if want details about the structure of a Tunnelblick VPN Configuration, see <a href="cPkgs.html">".tblk" Details</a>.</p>
<p>Otherwise, continue!</p>
<hr>
<h2 id="setting-up-and-installing-configurations">Setting Up and Installing Configurations</h2>
<p><strong>First, install Tunnelblick and launch it so it is running.</strong></p>
<p>It is not enough to <strong>install</strong> Tunnelblick: you also need to tell Tunnelblick <strong><em>how to connect</em></strong> to a VPN.</p>
<p>You tell Tunnelblick how to connect to a VPN with a configuration file.</p>
<p><strong>If you already have configuration files</strong> you can install them by dragging and dropping them onto the Tunnelblick icon in the menu bar.</p>
<p>After installing your configurations, continue with <a href="#the-set-nameserver-check-box-and-dns-wins-settings">"Set Nameserver" Check Box and DNS & WINS Settings</a>, below.</p>
<hr>
<p><strong>If you don't have configuration files or you want more information about them</strong> continue reading.</p>
<p>Tunnelblick can use two types of configuration files:</p>
<ul>
<li>
<p><strong>Tunnelblick VPN Configurations.</strong> A Tunnelblick VPN Configuration contains all of the information Tunnelblick needs to connect to one or more VPNs. A Tunnelblick VPN Configuration contains one or more OpenVPN configuration files, and may contain key, certificate, and script files. Everything needed is contained within the Tunnelblick VPN Configuration. Tunnelblick VPN Configurations may also contain other information, including information about default preferences for the configuration and identification and version information for the configuration itself that make managing widespread distribution easier. For details, see <a href="cPkgs.html">Tunnelblick VPN Configurations Details</a>.</p>
</li>
<li>
<p><strong>OpenVPN configuration files.</strong> These are plain text files with extensions of .ovpn or .conf. These files usually contain only the configuration information; keys and certificates may be held in separate files. When installed, they are converted to Tunnelblick VPN Configurations. <strong>For more information about setting up Tunnelblick using OpenVPN configuration files, see <a href="cConfigO.html">Configuring OpenVPN</a>.</strong></p>
</li>
</ul>
<h3 id="converting-openvpn-configurations-to-tunnelblick-vpn-configurations">Converting OpenVPN Configurations to Tunnelblick VPN Configurations</h3>
<p>You can drag and drop OpenVPN configurations onto the Tunnelblick icon in the menu bar and they will be installed as Tunnelblick VPN Configurations.</p>
<h3 id="creating-and-installing-a-tunnelblick-vpn-configuration">Creating and Installing a Tunnelblick VPN Configuration</h3>
<p>To create a Tunnelblick VPN Configuration:</p>
<ol>
<li>Create a folder anywhere (on your Desktop works well);</li>
<li>If you have only one OpenVPN configuration file, name the folder with the name you want the configuration known by in Tunnelblick. (Otherwise, each configuration will be known in Tunnelblick by the name of the OpenVPN configuration file that it is based on);</li>
<li>Copy all the files related to the configuration(s) into the folder (see <a href="#files-contained-in-a-tunnelblick-vpn-configuration">Files Contained in a Tunnelblick VPN Configuration</a>, below);</li>
<li>Add an extension of ".tblk" at the end of the folder name. When you do this the icon for the folder will change to an icon for a Tunnelblick VPN Configuration.</li>
<li>Drag and drop the folder's new icon onto the Tunnelblick icon in the menu bar to install it.</li>
</ol>
<p>When you install by dragging and dropping, you will be asked if you want each configuration to be private or shared. A private configuration may only be used when you are logged onto the computer. A shared configuration may be used by anyone who is logged into the computer. If the name you have given conflicts with the name of an existing installed configuration, you will be given the opportunity to change the name.</p>
<p>The process of installation will copy the .tblk to a special location on your computer (see <a href="cFileLocations.html">File Locations</a>) and make changes to it so it can be used securely. You can then delete the original .tblk you created, or move it somewhere convenient as a backup, or copy or move it to another computer and install it on that computer.</p>
<p>That's it! You are done. The configuration(s) will be available immediately in Tunnelblick.</p>
<h3 id="modifying-a-tunnelblick-vpn-configuration">Modifying a Tunnelblick VPN Configuration</h3>
<p>You can modify a Tunnelblick VPN Configuration two ways:</p>
<ul>
<li>
<p>If you want to change the contents of an installed OpenVPN configuration file that is installed as a Private configuration, you should select the configuration in Tunnelblick's VPN Details window, then click the "gear" button at the bottom of the list and select "Edit OpenVPN Configuration File...". That will open the installed OpenVPN configuration file in TextEdit. Changes take effect as soon as the file is saved in TextEdit. Note that this does not modify your original .tblk; it modifies the installed copy only.</p>
</li>
<li>
<p>You can't change the contents of an installed OpenVPN configuration file that is installed as a Shared configuration. (You can convert it to be a Private configuration, edit it, and then change it back to be Shared.)</p>
</li>
<li>
<p>If you want to make other changes (to the key/certificate files, for example), you'll have to</p>
<ol>
<li>Modify your original .tblk to include the changes (rename it to not end in ".tblk", then make the changes, then rename it to end in ".tblk" again);</li>
<li>Drag and drop the modified .tblk onto the Tunnelblick icon in the menu bar to install it.</li>
</ol>
</li>
</ul>
<h3 id="files-contained-in-a-tunnelblick-vpn-configuration">Files Contained in a Tunnelblick VPN Configuration</h3>
<p>The files that should be contained in a Tunnelblick VPN Configuration (the "files related to the connection" above) should all be "plain text" files:</p>
<ul>
<li>One or more OpenVPN configuration files (.ovpn or .conf files).</li>
<li>Any certificate or key files for the configurations (.key, .crt, .pem, .cer, .der, .p12, .p7b, .p7c, and .pfx files); and</li>
<li>Any script files for the configurations. Script files must must have a .sh extension so that Tunnelblick can secure them and use them properly.</li>
</ul>
<hr>
<h2 id="the-set-nameserver-check-box-and-dns--wins-settings">The "Set Nameserver" Check Box and DNS & WINS Settings</h2>
<p>If you are using DHCP, wish to use DNS and WINS servers at the far end of the tunnel when connected, and the VPN server you are connecting to "pushes" DNS and WINS settings to your client, select "Set nameserver". (This is the situation for most users.)</p>
<p>If you are using DHCP, wish to use your original DNS and WINS servers when connected, and the VPN server you are connecting to does not "push" DNS or WINS settings to your client, select "Do not set nameserver".</p>
<ul>
<li>
<p>If you set your DNS servers manually, then regardless of the state of "Set nameserver", your manual DNS servers, Search Domains, and WINS servers will always be the only ones used unless you set the configuration to "Allow changes to manually-set network settings".</p>
</li>
<li>
<p>Each of these settings is independent of the others: if "Set nameserver" is selected, those settings not configured manually will be replaced by the settings obtained from the VPN server. If "Do not set nameserver" is selected, then as with Leopard/Tiger, no DNS/WINS settings will be applied unless you set the configuration to "Allow changes to manually-set network setttings".</p>
</li>
</ul>
<p><strong>If your situation is not described above</strong> (e.g., if you use manual DNS settings and wish to use DNS servers at the far end of a tunnel when connected, or you wish to use the macOS ability to use different nameservers for different domains), you must create your own up/down scripts and select "Set nameserver".</p>
<hr>
<h2 id="the-openvpn---user-and---group-options-and-openvpn-down-rootso">The OpenVPN --user and --group options and openvpn-down-root.so</h2>
<p>When using "Set nameserver" or your own down script for OpenVPN, it is usually necessary to avoid using the OpenVPN "user" and "group" options in the configuration file. These options cause OpenVPN to drop root privileges and take the privileges of the specified user and group (usually, "nobody"). If this is done, then the down script that handles restarting connections when there is a transient problem fails, because it is run without root privileges. OpenVPN usually fails, too, if your configuration performs any routing (most configurations do).</p>
<p>However, Tunnelblick includes the "openvpn-down-root.so" plugin for OpenVPN. When this plugin is activated, OpenVPN still drops root privileges and runs as the specified user:group after a connection is made, but runs the down script run as root:wheel, so reconnecting after transient network problems can work if OpenVPN does not need to restore any routes.</p>
<p>When you connect with a configuration that includes the "user" and/or "group" options in the configuration file, Tunnelblick will ask if you wish to use the openvpn-down-root plugin. Answer "yes" and Tunnelblick will use the plugin each time it makes a connection. OpenVPN will still be unable to make route changes after the initial connection; they have to be made in the your own customized scripts.</p>
</td>
</tr>
</table>
</div>
</div>
</main>
<footer>
<div class="bottom-translation"><span title="view in German or another language using Google Translate"><a lang="de" class="bottom-translation" href="/iptranslate?hl=de&amp;sl=en&amp;tl=de&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;Deutsch&nbsp;&nbsp;</a></span> <span title="view in French or another language using Google Translate"><a lang="fr" class="bottom-translation" href="/iptranslate?hl=fr&amp;sl=en&amp;tl=fr&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;Français&nbsp;&nbsp;</a></span> <span title="view in Chinese (simplified) or another language using Google Translate"><a lang="zh-Hans" class="bottom-translation" href="/iptranslate?hl=zh-CN&amp;sl=en&amp;tl=zh-CN&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;中文(简体)&nbsp;&nbsp;</a></span> <span title="view in Russian or another language using Google Translate"><a lang="ru" class="bottom-translation" href="/iptranslate?hl=ru&amp;sl=en&amp;tl=ru&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;Русский&nbsp;&nbsp;</a></span> <span title="view in Spanish or another language using Google Translate"><a lang="es" class="bottom-translation" href="/iptranslate?hl=es&amp;sl=en&amp;tl=es&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;Español&nbsp;&nbsp;</a></span> <span title="view in Japanese or another language using Google Translate"><a lang="ja" class="bottom-translation" href="/iptranslate?hl=ja&amp;sl=en&amp;tl=ja&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;日本語&nbsp;&nbsp;</a></span> <span title="view in Italian or another language using Google Translate"><a class="bottom-translation" href="/iptranslate?hl=it&amp;sl=en&amp;tl=it&amp;u=https%3A%2F%2Ftunnelblick.net%2FcConfigT.html&amp;sandbox=1">&nbsp;&nbsp;…&nbsp;&nbsp;</a></span></div>
<div class="bottom-copyright">Last updated&nbsp;2023-12-28.&nbsp;&nbsp;Copyright © 2015-2024 by The Tunnelblick Project.&nbsp;&nbsp;<a href="/cGDPR.html">GDPR Info</a>&nbsp;&nbsp;</div>
</footer>
</body>
</html>
